<div class="header-bar">
  <img src="assets/logoagrosoft.png" alt="Logo Agrosoft" class="header-logo" />
  <div class="actions">
  <button mat-icon-button class="home-button" (click)="goBack()" matTooltip="Cancelar">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <button mat-icon-button class="home-button" (click)="goHome()" matTooltip="Inicio">
    <mat-icon>home</mat-icon>
  </button>
</div>
</div>

  <form *ngIf="form" [formGroup]="form" (ngSubmit)="submit()">
    <mat-card class="form-card">
      <mat-card-content>
        <h2 class="form-title-inside">
          {{ employee ? 'Editar Empleado' : 'Agregar Empleado' }}
        </h2>

        <div class="form-fields">
          <mat-form-field appearance="outline">
            <mat-label>Nombre completo</mat-label>
            <input matInput formControlName="fullname" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Rol</mat-label>
            <input matInput formControlName="role" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Antigüedad (años)</mat-label>
            <input matInput type="number" formControlName="seniority" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Horas disponibles</mat-label>
            <input matInput type="number" formControlName="availablehours" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Horas extra</mat-label>
            <input matInput type="number" formControlName="overtimehours" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Salario</mat-label>
            <input matInput type="number" formControlName="salary" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Puntaje de desempeño</mat-label>
            <input matInput type="number" formControlName="performancescore" />
          </mat-form-field>
        </div>

        <div class="task-section">
          <h4 class="task-title">Tareas asignadas</h4>

          <div formArrayName="assignedtasks" class="task-list">
            <div *ngFor="let task of assignedtasks.controls; let i = index" class="task-item">
              <mat-form-field appearance="outline" class="task-field">
                <mat-label>Título de tarea</mat-label>
                <input matInput [formControlName]="i" />
              </mat-form-field>
              <button mat-stroked-button class="green-button uniform-button" type="button" (click)="removeTask(i)">
                Eliminar
              </button>
            </div>
          </div>

          <div class="button-center">
            <button mat-raised-button class="green-button uniform-button" type="button"
            (click)="addTask()">Agregar Tarea</button>
          </div>
        </div>

        
      <div class="submit-actions button-center">
  <button mat-raised-button class="green-button uniform-button" type="submit"
    [disabled]="form.invalid"><mat-icon>save</mat-icon>Guardar</button>
</div>
</mat-card-content>
</mat-card>
</form>